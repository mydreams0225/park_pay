<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes/no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="Content/css/parkPays.css">
  <script src="Content/js/jquery-3.2.1.min.js"></script>
    <title>Document</title>
</head>
<body>
    <div class="title-wrap">
        <div> <span>广州营生广场</span></div>
       
    </div>
    <div class="pay-wrap">
       <div class="input-wrap">
            <span class="input-span  input-span-first"></span>
            <span class="input-span"></span>
            <span class="input-span-special">●</span>
            <span class="input-span"></span>
            <span class="input-span"></span>
            <span class="input-span"></span>
            <span class="input-span"></span>
            <span class="input-span"></span>
            <span class="input-span"></span>
        </div>
        <div class="submin-wrap">
            <button class="submin-btn">确认</button>
        </div>
        <div class="login-wrap">
                <img src="" alt="">
            </div>
    </div>

    <div class="keyboard-base keyboard-first-wrap"  style="display:none;">
        <div class="keybord-group">
            <span class="keybord-input-span">京</span>
            <span class="keybord-input-span">津</span>
            <span class="keybord-input-span">冀</span>
            <span class="keybord-input-span">晋</span>
            <span class="keybord-input-span">蒙</span>
            <span class="keybord-input-span">辽</span>
            <span class="keybord-input-span">吉</span>
            <span class="keybord-input-span">黑</span>
            <span class="keybord-input-span">沪</span>
            <span class="keybord-input-span">苏</span>
        </div>
        <div class="keybord-group">
                <span class="keybord-input-span">浙</span>
                <span class="keybord-input-span">皖</span>
                <span class="keybord-input-span">闽</span>
                <span class="keybord-input-span">赣</span>
                <span class="keybord-input-span">鲁</span>
                <span class="keybord-input-span">豫</span>
                <span class="keybord-input-span">鄂</span>
                <span class="keybord-input-span">湘</span>
                <span class="keybord-input-span">粤</span>
                <span class="keybord-input-span">桂</span>
               
        </div>
        <div class="keybord-group keybord-group-special1">
                <span class="keybord-input-span">琼</span>
                <span class="keybord-input-span">渝</span>
                <span class="keybord-input-span">川</span>
                <span class="keybord-input-span">贵</span>
                <span class="keybord-input-span">云</span>
                <span class="keybord-input-span">藏</span>
                <span class="keybord-input-span">陕</span>
                <span class="keybord-input-span">甘</span>
               
        </div>
        <div class="keybord-group keybord-group-special2">
                <span class="keybord-input-span">青</span>
                <span class="keybord-input-span">宁</span>
                <span class="keybord-input-span">新</span>
        </div>
    </div>
    <div class="keyboard-base keyboard-second-wrap" style="display:none;">
            <div class="keybord-group keybord-num">
                    <span class="keybord-input-span">0</span>
                    <span class="keybord-input-span">1</span>
                    <span class="keybord-input-span">2</span>
                    <span class="keybord-input-span">3</span>
                    <span class="keybord-input-span">4</span>
                    <span class="keybord-input-span">5</span>
                    <span class="keybord-input-span">6</span>
                    <span class="keybord-input-span">7</span>
                    <span class="keybord-input-span">8</span>
                    <span class="keybord-input-span">9</span>
                </div>
        <div class="keybord-group">
            <span class="keybord-input-span">Q</span>
            <span class="keybord-input-span">W</span>
            <span class="keybord-input-span">E</span>
            <span class="keybord-input-span">R</span>
            <span class="keybord-input-span">T</span>
            <span class="keybord-input-span">Y</span>
            <span class="keybord-input-span">U</span>
            <span class="keybord-input-span">I</span>
            <span class="keybord-input-span">O</span>
            <span class="keybord-input-span">P</span>
        </div>
        <div class="keybord-group">
                <span class="keybord-input-span">A</span>
                <span class="keybord-input-span">S</span>
                <span class="keybord-input-span">D</span>
                <span class="keybord-input-span">F</span>
                <span class="keybord-input-span">G</span>
                <span class="keybord-input-span">H</span>
                <span class="keybord-input-span">J</span>
                <span class="keybord-input-span">K</span>
                <span class="keybord-input-span">L</span>
        </div>
        <div class="keybord-group ">
                <span class="keybord-input-span">Z</span>
                <span class="keybord-input-span">X</span>
                <span class="keybord-input-span">C</span>
                <span class="keybord-input-span">V</span>
                <span class="keybord-input-span">B</span>
                <span class="keybord-input-span">N</span>
                <span class="keybord-input-span">M</span>
               
        </div>
        <div class="keybord-group ">
                <span class="keybord-input-span">港</span>
                <span class="keybord-input-span">澳</span>
                <span class="keybord-input-span">警</span>
                <span class="keybord-input-span">领</span>
                <span class="keybord-input-span">使</span>
                <span class="keybord-input-span">学</span>
                <span class="keybord-input-span keybord-delete" >删除</span>
        </div>
    </div>
    <script>
    $(function(){
        //输入span的touch事件
        $('.input-wrap').on('touchstart','.input-span',function(e){
            $('.input-span').removeClass('input-span-active')
            $(this).addClass('input-span-active')
          if($(this).hasClass('input-span-first')){
              $('.keyboard-first-wrap').slideToggle()
              $('.keyboard-second-wrap').slideUp()
          } 
          else{
            $('.keyboard-second-wrap').slideToggle()
            $('.keyboard-first-wrap').slideUp()
          }
        })

        //按钮span的touch事件
        $('.keybord-group').on('touchstart','.keybord-input-span',function(){
            if($(this).hasClass('keybord-delete')){
                $('.input-span-active').html('');
                changeBeforeTarget();
            }
            else{
                var value = $(this).html();
                $('.input-span-active').html(value);
                changeAfterTarget();
            }
        })


        //提交的点击事件
        $('.submin-btn').on('touchstart',function(){
            var targetList = $('.input-span');
            $.each(targetList,function(index,item){
               if($(item).html() == ''){
                   alert('填写完整的车牌号!')
                   return false;
               } 
            })

        })
    })

    function changeAfterTarget(){
        var next =  $('.input-span-active').next();
        if(next.length==0){
            return "";
        }
        if(next.hasClass('input-span-special')){
            next = next .next();
        }
        $('.input-span-active').removeClass('input-span-active')
        next.addClass('input-span-active');
        $('.keyboard-second-wrap').slideDown()
        $('.keyboard-first-wrap').slideUp()

    }

    function changeBeforeTarget(){
        var prev =  $('.input-span-active').prev()
        if(prev.hasClass('input-span-special')){
            prev = prev .prev();
        }
        $('.input-span-active').removeClass('input-span-active')
        prev.addClass('input-span-active');
        
        if(prev.hasClass('input-span-first')){
            $('.keyboard-first-wrap').slideDown()
              $('.keyboard-second-wrap').slideUp()
        }

    }


    </script>
</body>
</html>