"use strict";var iosOverlay=function(n){var t,r=function(){},s={onbeforeshow:r,onshow:r,onbeforehide:r,onhide:r,text:"",icon:null,spinner:null,duration:null,id:null,parentEl:null},h=function(n,t){var i={},r,u;for(r in n)i[r]=n[r];for(u in t)i[u]=t[u];return i},f=function(){var u=document.body||document.documentElement,r=u.style,n="transition",i,t;if(typeof r[n]=="string")return!0;for(i=["Moz","Webkit","Khtml","O","ms"],n=n.charAt(0).toUpperCase()+n.substr(1),t=0;t<i.length;t++)if(typeof r[i[t]+n]=="string")return!0;return!1}(),i=h(s,n),u=function(n){n.animationName==="ios-overlay-show"&&i.onshow();n.animationName==="ios-overlay-hide"&&(e(),i.onhide())},l=function(){t=document.createElement("div");t.className="ui-ios-overlay";t.innerHTML+='<span class="title">'+i.text+"<\/span";n.icon?t.innerHTML+='<img src="'+n.icon+'">':n.spinner&&t.appendChild(n.spinner.el);f&&(t.addEventListener("webkitAnimationEnd",u,!1),t.addEventListener("msAnimationEnd",u,!1),t.addEventListener("oAnimationEnd",u,!1),t.addEventListener("animationend",u,!1));n.parentEl?document.getElementById(n.parentEl).appendChild(t):document.body.appendChild(t);i.onbeforeshow();f?t.className+=" ios-overlay-show":typeof $=="function"&&$(t).fadeIn({duration:200},function(){i.onshow()});i.duration&&window.setTimeout(function(){o()},i.duration)}(),o=function(){i.onbeforehide();f?t.className=t.className.replace("show","hide"):typeof $=="function"&&$(t).fadeOut({duration:200},function(){e();i.onhide()})},e=function(){n.parentEl?document.getElementById(n.parentEl).removeChild(t):document.body.removeChild(t)},c=function(n){n.text&&(t.getElementsByTagName("span")[0].innerHTML=n.text);n.icon&&(i.spinner&&(i.spinner.el.parentNode.removeChild(i.spinner.el),i.spinner=null),t.innerHTML+='<img src="'+n.icon+'">')};return{hide:o,destroy:e,update:c}};typeof define=="function"&&define.amd&&define([],function(){return iosOverlay});